[gd_scene load_steps=9 format=4 uid="uid://dtmb83d7ixnbf"]

[ext_resource type="Script" uid="uid://c5rhyur4xs6uf" path="res://Scripts/logic_manager.gd" id="1_8m837"]
[ext_resource type="Script" uid="uid://cq6xfied52tag" path="res://Scripts/level_test.gd" id="1_45dpy"]

[ext_resource type="PackedScene" uid="uid://iclbvx22a456" path="res://nodes/Units/archer_unit.tscn" id="2_18wxx"]
[ext_resource type="PackedScene" uid="uid://cqnr58lkjx7uj" path="res://nodes/UI/Knight.tscn" id="2_35r2b"]
[ext_resource type="PackedScene" uid="uid://dn76l7tnyncxh" path="res://nodes/UI/hex_grid.tscn" id="2_45dpy"]
[ext_resource type="PackedScene" uid="uid://jvxo8n2p3x3g" path="res://nodes/UI/moveable_camera.tscn" id="3_wbwiv"]
[ext_resource type="PackedScene" uid="uid://dvb5tahn2q5dj" path="res://nodes/UI/HealthBar.tscn" id="4_a2kvv"]

[ext_resource type="Script" uid="uid://dxk5qf2akgabk" path="res://Scripts/ui_manager.gd" id="5_t1dee"]

[node name="Level" type="Node2D"]
script = ExtResource("1_45dpy")
knight = ExtResource("2_5jfdo")
scout = ExtResource("3_35ubm")
archer = ExtResource("2_18wxx")
healthbar = ExtResource("4_a2kvv")

[node name="Logic_Manager" type="Node" parent="."]
script = ExtResource("1_8m837")

[node name="Hex_Grid" parent="." instance=ExtResource("2_45dpy")]
position = Vector2(169, 406)
tile_map_data = PackedByteArray("AAD///7/AAAAAAAAAAD/////AAAAAAAAAAAAAP7/AAAAAAAAAAD///3/AAAAAAAAAAD+//3/AAAAAAAAAAD+//7/AAAAAAAAAAD+////AAAAAAAAAAD9////AAAAAAAAAAD9//7/AAAAAAAAAAD9//3/AAAAAAAAAAD+//z/AAAAAAAAAAD///z/AAAAAAAAAAAAAPz/AAAAAAAAAAAAAP3/AAAAAAAAAAABAP7/AAAAAAAAAAAAAP//AAAAAAAAAAAAAAAAAAAAAAAAAAD//wAAAAAAAAAAAAD+/wAAAAAAAAAAAAD9/wAAAAAAAAAAAAD8////AAAAAAAAAAD8//7/AAAAAAAAAAD8//3/AAAAAAAAAAD9//z/AAAAAAAAAAD9//v/AAAAAAAAAAD+//v/AAAAAAAAAAD///v/AAAAAAAAAAAAAPv/AAAAAAAAAAABAPz/AAAAAAAAAAABAP3/AAAAAAAAAAACAP7/AAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAD//wEAAAAAAAAAAAD+/wEAAAAAAAAAAAD9/wEAAAAAAAAAAAA=")

[node name="Units" type="Node" parent="."]

[node name="P1_Units" type="Node" parent="Units"]

[node name="P2_Units" type="Node" parent="Units"]

[node name="Moveable_Camera" parent="." instance=ExtResource("3_wbwiv")]

[node name="UI" type="CanvasLayer" parent="."]
script = ExtResource("5_t1dee")

[node name="TurnPanel" type="PanelContainer" parent="UI"]
visible = false
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -78.0
offset_top = -85.0
grow_horizontal = 0
grow_vertical = 0

[node name="VBoxContainer" type="VBoxContainer" parent="UI/TurnPanel"]
layout_mode = 2

[node name="TurnLabel" type="Label" parent="UI/TurnPanel/VBoxContainer"]
layout_mode = 2

[node name="PlayerLabel" type="Label" parent="UI/TurnPanel/VBoxContainer"]
layout_mode = 2

[node name="EndTurnButton" type="Button" parent="UI/TurnPanel/VBoxContainer"]
layout_mode = 2
text = "End Turn"

[node name="Move_Options_Container" type="PanelContainer" parent="UI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_right = 40.0
grow_vertical = 0

[node name="MoveOptions" type="VBoxContainer" parent="UI/Move_Options_Container"]
layout_mode = 2

[node name="Confirm_Container" type="PanelContainer" parent="UI"]
visible = false
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -35.5
offset_top = -40.0
offset_right = 35.5
grow_horizontal = 2
grow_vertical = 0

[node name="HBoxContainer" type="HBoxContainer" parent="UI/Confirm_Container"]
layout_mode = 2

[node name="Progress" type="Label" parent="UI/Confirm_Container/HBoxContainer"]
layout_mode = 2
text = "0/0"

[node name="Confirm" type="Button" parent="UI/Confirm_Container/HBoxContainer"]
layout_mode = 2
text = "Confirm"

[node name="Cancel" type="Button" parent="UI/Confirm_Container/HBoxContainer"]
layout_mode = 2
text = "Cancel"

[node name="Unit_Placement_Panel" type="PanelContainer" parent="UI"]
visible = false
anchors_preset = -1
anchor_left = 0.935
anchor_top = 0.389
anchor_right = 0.935
anchor_bottom = 0.389
offset_left = -143.12
offset_top = -250.072
offset_right = 71.8799
offset_bottom = -141.072

[node name="VBoxContainer" type="VBoxContainer" parent="UI/Unit_Placement_Panel"]
layout_mode = 2

[node name="Knight" type="Button" parent="UI/Unit_Placement_Panel/VBoxContainer"]
layout_mode = 2
text = "Knight (1)"

[node name="Scout" type="Button" parent="UI/Unit_Placement_Panel/VBoxContainer"]
layout_mode = 2
text = "Scout (1)"

[node name="Archer" type="Button" parent="UI/Unit_Placement_Panel/VBoxContainer"]
layout_mode = 2
text = "Archer (1)"

[node name="End Turn" type="Button" parent="UI/Unit_Placement_Panel/VBoxContainer"]
layout_mode = 2
text = "Finish Placement"

[connection signal="cell_left_clicked" from="Hex_Grid" to="." method="_on_hex_grid_cell_left_clicked"]
[connection signal="cell_right_clicked" from="Hex_Grid" to="." method="_on_hex_grid_cell_right_clicked"]
[connection signal="pressed" from="UI/TurnPanel/VBoxContainer/EndTurnButton" to="UI" method="_on_end_turn_button_pressed"]
[connection signal="pressed" from="UI/Confirm_Container/HBoxContainer/Confirm" to="UI" method="_on_confirm_pressed"]
[connection signal="pressed" from="UI/Confirm_Container/HBoxContainer/Cancel" to="UI" method="_on_cancel_pressed"]
[connection signal="pressed" from="UI/Unit_Placement_Panel/VBoxContainer/Knight" to="." method="_on_knight_pressed"]
[connection signal="pressed" from="UI/Unit_Placement_Panel/VBoxContainer/Scout" to="." method="_on_scout_pressed"]
[connection signal="pressed" from="UI/Unit_Placement_Panel/VBoxContainer/Archer" to="." method="_on_archer_pressed"]
[connection signal="pressed" from="UI/Unit_Placement_Panel/VBoxContainer/End Turn" to="." method="_on_end_turn_pressed"]
